# QuangStation V2: Há»‡ thá»‘ng Láº­p káº¿ hoáº¡ch Xáº¡ trá»‹ MÃ£ nguá»“n Má»Ÿ

## ğŸ¥ Giá»›i thiá»‡u
QuangStation V2 lÃ  má»™t há»‡ thá»‘ng láº­p káº¿ hoáº¡ch xáº¡ trá»‹ mÃ£ nguá»“n má»Ÿ tiÃªn tiáº¿n, Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi Máº¡c ÄÄƒng Quang. Pháº§n má»m Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ há»— trá»£ cÃ¡c chuyÃªn gia y táº¿ trong quÃ¡ trÃ¬nh láº­p káº¿ hoáº¡ch Ä‘iá»u trá»‹ ung thÆ° chÃ­nh xÃ¡c vÃ  hiá»‡u quáº£, káº¿t há»£p cÃ¡c cÃ´ng nghá»‡ tiÃªn tiáº¿n vÃ  thuáº­t toÃ¡n váº­t lÃ½ phá»©c táº¡p.

## âœ¨ TÃ­nh nÄƒng ChÃ­nh
### ğŸ“‹ Quáº£n lÃ½ Dá»¯ liá»‡u
- **Quáº£n lÃ½ toÃ n diá»‡n dá»¯ liá»‡u DICOM**
  - Há»— trá»£ Ä‘áº§y Ä‘á»§ CT, MRI, RT Structure, RT Dose, RT Plan, RT Image
  - Nháº­p/xuáº¥t DICOM theo chuáº©n DICOM RT
  - Sao lÆ°u vÃ  phá»¥c há»“i dá»¯ liá»‡u
- **Quáº£n lÃ½ bá»‡nh nhÃ¢n vÃ  káº¿ hoáº¡ch**
  - LÆ°u trá»¯ vÃ  quáº£n lÃ½ thÃ´ng tin bá»‡nh nhÃ¢n
  - Quáº£n lÃ½ nhiá»u káº¿ hoáº¡ch xáº¡ trá»‹ cho má»™t bá»‡nh nhÃ¢n
  - Há»‡ thá»‘ng phiÃªn lÃ m viá»‡c an toÃ n vá»›i khÃ´i phá»¥c tá»± Ä‘á»™ng

### ğŸ–¼ï¸ Hiá»ƒn thá»‹ vÃ  Xá»­ lÃ½ HÃ¬nh áº£nh
- **Hiá»ƒn thá»‹ hÃ¬nh áº£nh 2D/3D tiÃªn tiáº¿n**
  - Hiá»ƒn thá»‹ Ä‘a máº·t pháº³ng (MPR) vá»›i Axial, Sagittal, Coronal
  - Rendering 3D vá»›i kháº£ nÄƒng xoay, phÃ³ng to/thu nhá»
  - Äiá»u chá»‰nh Ä‘á»™ tÆ°Æ¡ng pháº£n, Ä‘á»™ sÃ¡ng vÃ  cÃ¡c bá»™ lá»c hÃ¬nh áº£nh
- **CÃ´ng cá»¥ Ä‘iá»u khiá»ƒn hÃ¬nh áº£nh**
  - Äo khoáº£ng cÃ¡ch, gÃ³c vÃ  diá»‡n tÃ­ch trÃªn hÃ¬nh áº£nh
  - Hiá»ƒn thá»‹ giÃ¡ trá»‹ HU táº¡i Ä‘iá»ƒm quan tÃ¢m
  - Chá»©c nÄƒng thay Ä‘á»•i Ä‘á»™ trong suá»‘t vÃ  mÃ u sáº¯c hiá»ƒn thá»‹

### ğŸ” PhÃ¢n Ä‘oáº¡n vÃ  Contour
- **CÃ´ng cá»¥ váº½ vÃ  chá»‰nh sá»­a Contour chuyÃªn nghiá»‡p**
  - Váº½ contour thá»§ cÃ´ng vá»›i nhiá»u cÃ´ng cá»¥ váº½ khÃ¡c nhau
  - Chá»‰nh sá»­a contour vá»›i cÃ¡c cÃ´ng cá»¥ push/pull, smooth, interpolate
  - Táº¡o cáº¥u trÃºc tá»« phÃ©p toÃ¡n boolean (union, intersection, subtraction)
  - Táº¡o margin tá»± Ä‘á»™ng (expansion, contraction)
- **PhÃ¢n Ä‘oáº¡n tá»± Ä‘á»™ng vá»›i AI**
  - PhÃ¢n Ä‘oáº¡n tá»± Ä‘á»™ng cÃ¡c cÆ¡ quan nguy cáº¥p (OAR) sá»­ dá»¥ng máº¡ng U-Net
  - Há»— trá»£ táº£i vÃ  sá»­ dá»¥ng nhiá»u mÃ´ hÃ¬nh Ä‘Ã£ huáº¥n luyá»‡n
  - Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh vÃ  tinh chá»‰nh káº¿t quáº£ phÃ¢n Ä‘oáº¡n

### ğŸ“Š TÃ­nh toÃ¡n vÃ  MÃ´ phá»ng Liá»u
- **Äa dáº¡ng thuáº­t toÃ¡n tÃ­nh toÃ¡n liá»u xáº¡ trá»‹**
  - Collapsed Cone Convolution (CCC)
  - Pencil Beam
  - Analytical Anisotropic Algorithm (AAA)
  - Acuros XB
  - Convolution Superposition
  - Monte Carlo
- **MÃ´ hÃ¬nh váº­t lÃ½ nÃ¢ng cao**
  - TÃ­nh toÃ¡n TERMA (Total Energy Released per unit MAss)
  - MÃ´ hÃ¬nh hÃ³a Ä‘áº§y Ä‘á»§ tÆ°Æ¡ng tÃ¡c chÃ¹m tia-váº­t cháº¥t
  - Hiá»‡u chá»‰nh khÃ´ng Ä‘á»“ng nháº¥t (heterogeneity correction)
  - MÃ´ phá»ng cÃ¡c hiá»‡u á»©ng tÃ¡n xáº¡ vÃ  háº¥p thá»¥

### ğŸ›ï¸ Ká»¹ thuáº­t Xáº¡ trá»‹ TiÃªn tiáº¿n
- **Há»— trá»£ nhiá»u ká»¹ thuáº­t xáº¡ trá»‹**
  - 3D-CRT (Conformal Radiation Therapy)
  - IMRT (Intensity Modulated Radiation Therapy)
  - VMAT (Volumetric Modulated Arc Therapy)
  - SRS/SBRT (Stereotactic Radiosurgery/Stereotactic Body Radiation Therapy)
  - Proton Therapy
  - Adaptive Radiation Therapy
- **Quáº£n lÃ½ MLC (Multi-Leaf Collimator)**
  - Hiá»ƒn thá»‹ vÃ  Ä‘iá»u chá»‰nh MLC trong Beam's Eye View (BEV)
  - Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh lÃ¡ MLC dá»±a trÃªn hÃ¬nh dáº¡ng cáº¥u trÃºc
  - MÃ´ phá»ng chuyá»ƒn Ä‘á»™ng cá»§a MLC trong ká»¹ thuáº­t VMAT

### ğŸ§© Tá»‘i Æ°u hÃ³a Káº¿ hoáº¡ch
- **Tá»‘i Æ°u hÃ³a liá»u xáº¡ trá»‹**
  - Tá»‘i Æ°u hÃ³a dá»±a trÃªn rÃ ng buá»™c (Constraint-based optimization)
  - Tá»‘i Æ°u hÃ³a dá»±a trÃªn má»¥c tiÃªu (Objective-based optimization)
  - Tá»‘i Æ°u hÃ³a MCO (Multi-Criteria Optimization)
  - Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh trá»ng sá»‘ tá»‘i Æ°u
- **Tá»‘i Æ°u hÃ³a dá»±a trÃªn kiáº¿n thá»©c (KBP - Knowledge-Based Planning)**
  - Dá»± Ä‘oÃ¡n DVH tá»‘i Æ°u dá»±a trÃªn dá»¯ liá»‡u lá»‹ch sá»­
  - Tá»‘i Æ°u hÃ³a tá»± Ä‘á»™ng dá»±a trÃªn káº¿ hoáº¡ch tÆ°Æ¡ng tá»±
  - Táº¡o má»¥c tiÃªu tá»‘i Æ°u dá»±a trÃªn dá»¯ liá»‡u há»c mÃ¡y

### ğŸ“ˆ ÄÃ¡nh giÃ¡ Káº¿ hoáº¡ch
- **ÄÃ¡nh giÃ¡ káº¿ hoáº¡ch qua Biá»ƒu Ä‘á»“ Liá»u-Thá»ƒ tÃ­ch (DVH)**
  - Hiá»ƒn thá»‹ DVH tÆ°Æ¡ng tÃ¡c vá»›i nhiá»u tÃ¹y chá»n hiá»ƒn thá»‹
  - PhÃ¢n tÃ­ch thá»‘ng kÃª DVH vá»›i cÃ¡c chá»‰ sá»‘ Dmin, Dmax, Dmean, Vx, Dx
  - Xuáº¥t dá»¯ liá»‡u DVH sang nhiá»u Ä‘á»‹nh dáº¡ng
- **Chá»‰ sá»‘ Ä‘Ã¡nh giÃ¡ káº¿ hoáº¡ch**
  - Chá»‰ sá»‘ Ä‘á»“ng dáº¡ng (Conformity Index - CI)
  - Chá»‰ sá»‘ Ä‘á»“ng nháº¥t (Homogeneity Index - HI)
  - Chá»‰ sá»‘ gradient (Gradient Index - GI)
  - PhÃ¢n tÃ­ch liá»u Ä‘iá»ƒm nÃ³ng (Hotspot Analysis)
- **TÃ­nh toÃ¡n hiá»‡u quáº£ sinh há»c**
  - TÃ­nh BED (Biologically Effective Dose)
  - TÃ­nh EQD2 (Equivalent Dose in 2Gy fractions)
  - MÃ´ hÃ¬nh TCP (Tumor Control Probability)
  - MÃ´ hÃ¬nh NTCP (Normal Tissue Complication Probability)

### ğŸ“‘ BÃ¡o cÃ¡o vÃ  Xuáº¥t dá»¯ liá»‡u
- **Táº¡o bÃ¡o cÃ¡o Ä‘iá»u trá»‹ chi tiáº¿t**
  - BÃ¡o cÃ¡o káº¿ hoáº¡ch Ä‘iá»u trá»‹ vá»›i hÃ¬nh áº£nh vÃ  Ä‘á»“ thá»‹
  - BÃ¡o cÃ¡o QA (Quality Assurance)
  - BÃ¡o cÃ¡o so sÃ¡nh káº¿ hoáº¡ch
  - BÃ¡o cÃ¡o theo dÃµi Ä‘iá»u trá»‹
- **Xuáº¥t dá»¯ liá»‡u Ä‘a dáº¡ng**
  - Xuáº¥t DICOM RT theo chuáº©n
  - Xuáº¥t bÃ¡o cÃ¡o dáº¡ng PDF, DOCX
  - Xuáº¥t dá»¯ liá»‡u phÃ¢n tÃ­ch dáº¡ng CSV, Excel
  - Xuáº¥t hÃ¬nh áº£nh vÃ  Ä‘á»“ thá»‹ dáº¡ng PNG, JPEG, SVG

## ğŸ–¥ï¸ YÃªu cáº§u Há»‡ thá»‘ng
- **Python**: 3.8 trá»Ÿ lÃªn
- **Há»‡ Ä‘iá»u hÃ nh**: Windows 10+, macOS, Linux
- **Pháº§n cá»©ng**: 
  - CPU: 4 nhÃ¢n trá»Ÿ lÃªn
  - RAM: 8GB trá»Ÿ lÃªn (khuyáº¿n nghá»‹ 16GB cho dá»¯ liá»‡u lá»›n)
  - KhÃ´ng gian Ä‘Ä©a: 10GB trá»‘ng
  - Khuyáº¿n nghá»‹: GPU há»— trá»£ CUDA (cho tÃ­nh toÃ¡n Monte Carlo vÃ  AI)

## ğŸš€ CÃ i Ä‘áº·t Nhanh

### CÃ i Ä‘áº·t tá»« PyPI
```bash
pip install quangstation
```

### CÃ i Ä‘áº·t tá»« MÃ£ nguá»“n
```bash
# Clone repository
git clone https://github.com/QuangMacHust/QuangStationV2.git
cd QuangStationV2

# CÃ i Ä‘áº·t cÃ¡c phá»¥ thuá»™c
pip install -r requirements.txt

# CÃ i Ä‘áº·t trong cháº¿ Ä‘á»™ phÃ¡t triá»ƒn
pip install -e .

# Khá»Ÿi cháº¡y á»©ng dá»¥ng
python launcher.py
```

## ğŸ“‚ Cáº¥u trÃºc Dá»± Ã¡n Má»›i

QuangStation V2 Ä‘Ã£ Ä‘Æ°á»£c tÃ¡i cáº¥u trÃºc thÃ nh má»™t dá»± Ã¡n cÃ³ tá»• chá»©c theo nguyÃªn táº¯c phÃ¢n chia trÃ¡ch nhiá»‡m rÃµ rÃ ng. DÆ°á»›i Ä‘Ã¢y lÃ  chi tiáº¿t vá» cáº¥u trÃºc thÆ° má»¥c má»›i:

```
QuangStationV2/
â”œâ”€â”€ quangstation/              # Package chÃ­nh
â”‚   â”œâ”€â”€ core/                  # Module cá»‘t lÃµi
â”‚   â”‚   â”œâ”€â”€ data_models/       # CÃ¡c mÃ´ hÃ¬nh dá»¯ liá»‡u 
â”‚   â”‚   â”œâ”€â”€ io/                # Äá»c/ghi dá»¯ liá»‡u
â”‚   â”‚   â””â”€â”€ utils/             # CÃ´ng cá»¥ tiá»‡n Ã­ch
â”‚   â”‚
â”‚   â”œâ”€â”€ clinical/              # Module lÃ¢m sÃ ng
â”‚   â”‚   â”œâ”€â”€ data_management/   # Quáº£n lÃ½ dá»¯ liá»‡u bá»‡nh nhÃ¢n, káº¿ hoáº¡ch
â”‚   â”‚   â”œâ”€â”€ contouring/        # PhÃ¢n Ä‘oáº¡n vÃ  contour
â”‚   â”‚   â”œâ”€â”€ planning/          # Láº­p káº¿ hoáº¡ch Ä‘iá»u trá»‹
â”‚   â”‚   â”‚   â””â”€â”€ techniques/    # CÃ¡c ká»¹ thuáº­t Ä‘iá»u trá»‹
â”‚   â”‚   â”œâ”€â”€ dose_calculation/  # TÃ­nh toÃ¡n liá»u lÆ°á»£ng
â”‚   â”‚   â”œâ”€â”€ optimization/      # Tá»‘i Æ°u hÃ³a káº¿ hoáº¡ch
â”‚   â”‚   â””â”€â”€ plan_evaluation/   # ÄÃ¡nh giÃ¡ káº¿ hoáº¡ch
â”‚   â”‚
â”‚   â”œâ”€â”€ gui/                   # Giao diá»‡n ngÆ°á»i dÃ¹ng
â”‚   â”‚   â”œâ”€â”€ widgets/           # CÃ¡c widget tÃ¹y chá»‰nh
â”‚   â”‚   â”œâ”€â”€ views/             # CÃ¡c mÃ n hÃ¬nh chÃ­nh
â”‚   â”‚   â””â”€â”€ dialogs/           # Há»™p thoáº¡i
â”‚   â”‚
â”‚   â”œâ”€â”€ quality/               # Äáº£m báº£o cháº¥t lÆ°á»£ng & bÃ¡o cÃ¡o
â”‚   â”‚   â”œâ”€â”€ quality_assurance/ # Kiá»ƒm tra cháº¥t lÆ°á»£ng
â”‚   â”‚   â””â”€â”€ reporting/         # Táº¡o bÃ¡o cÃ¡o
â”‚   â”‚
â”‚   â”œâ”€â”€ services/              # Dá»‹ch vá»¥ há»— trá»£
â”‚   â”‚   â”œâ”€â”€ image_processing/  # Xá»­ lÃ½ hÃ¬nh áº£nh
â”‚   â”‚   â””â”€â”€ integration/       # TÃ­ch há»£p há»‡ thá»‘ng
â”‚   â”‚
â”‚   â”œâ”€â”€ __init__.py            # Khá»Ÿi táº¡o package
â”‚   â””â”€â”€ __main__.py            # Äiá»ƒm vÃ o chÃ­nh
â”‚
â”œâ”€â”€ resources/                 # TÃ i nguyÃªn á»©ng dá»¥ng
â”‚   â”œâ”€â”€ icons/                 # Biá»ƒu tÆ°á»£ng giao diá»‡n
â”‚   â”œâ”€â”€ templates/             # Máº«u bÃ¡o cÃ¡o
â”‚   â”œâ”€â”€ models/                # MÃ´ hÃ¬nh AI Ä‘Ã£ huáº¥n luyá»‡n
â”‚   â””â”€â”€ data/                  # Dá»¯ liá»‡u tham chiáº¿u
â”‚
â”œâ”€â”€ docs/                      # TÃ i liá»‡u
â”‚   â”œâ”€â”€ user_manual/           # HÆ°á»›ng dáº«n ngÆ°á»i dÃ¹ng
â”‚   â”œâ”€â”€ developer_guide/       # HÆ°á»›ng dáº«n phÃ¡t triá»ƒn
â”‚   â””â”€â”€ api/                   # TÃ i liá»‡u API
â”‚
â”œâ”€â”€ tests/                     # Kiá»ƒm thá»­
â”œâ”€â”€ scripts/                   # Script há»— trá»£
â”œâ”€â”€ launcher.py                # Script khá»Ÿi cháº¡y á»©ng dá»¥ng
â”œâ”€â”€ setup.py                   # Script cÃ i Ä‘áº·t
â””â”€â”€ requirements.txt           # Phá»¥ thuá»™c
```

### MÃ´ táº£ Chi tiáº¿t cÃ¡c Module

#### 1. core/ - Module Cá»‘t lÃµi
- **data_models/**: Äá»‹nh nghÄ©a cÃ¡c cáº¥u trÃºc dá»¯ liá»‡u cÆ¡ báº£n
  - `image_data.py`: MÃ´ hÃ¬nh dá»¯ liá»‡u hÃ¬nh áº£nh y táº¿ (CT, MRI, PET)
  - `structure_data.py`: MÃ´ hÃ¬nh dá»¯ liá»‡u cáº¥u trÃºc giáº£i pháº«u
  - `plan_data.py`: MÃ´ hÃ¬nh dá»¯ liá»‡u káº¿ hoáº¡ch xáº¡ trá»‹
  - `dose_data.py`: MÃ´ hÃ¬nh dá»¯ liá»‡u liá»u xáº¡ trá»‹
  - `patient_data.py`: MÃ´ hÃ¬nh dá»¯ liá»‡u bá»‡nh nhÃ¢n
  - `beam_data.py`: MÃ´ hÃ¬nh dá»¯ liá»‡u chÃ¹m tia

- **io/**: Xá»­ lÃ½ nháº­p/xuáº¥t dá»¯ liá»‡u
  - `dicom_parser.py`: PhÃ¢n tÃ­ch dá»¯ liá»‡u DICOM
  - `dicom_import.py`: Nháº­p dá»¯ liá»‡u tá»« DICOM
  - `dicom_export.py`: Xuáº¥t dá»¯ liá»‡u sang DICOM
  - `dicom_export_rt.py`: Xuáº¥t dá»¯ liá»‡u xáº¡ trá»‹ sang DICOM RT
  - `dicom_constants.py`: CÃ¡c háº±ng sá»‘ DICOM
  - `file_utils.py`: Tiá»‡n Ã­ch xá»­ lÃ½ file

- **utils/**: CÃ¡c cÃ´ng cá»¥ tiá»‡n Ã­ch
  - `logging.py`: Há»‡ thá»‘ng ghi log
  - `config.py`: Quáº£n lÃ½ cáº¥u hÃ¬nh
  - `external_integration.py`: TÃ­ch há»£p thÆ° viá»‡n bÃªn ngoÃ i
  - `geometry.py`: CÃ¡c hÃ m hÃ¬nh há»c khÃ´ng gian
  - `data_validation.py`: Kiá»ƒm tra tÃ­nh há»£p lá»‡ cá»§a dá»¯ liá»‡u
  - `performance.py`: Äo lÆ°á»ng vÃ  tá»‘i Æ°u hiá»‡u suáº¥t

#### 2. clinical/ - Module LÃ¢m sÃ ng
- **data_management/**: Quáº£n lÃ½ dá»¯ liá»‡u lÃ¢m sÃ ng
  - `patient_db.py`: CÆ¡ sá»Ÿ dá»¯ liá»‡u bá»‡nh nhÃ¢n
  - `session_management.py`: Quáº£n lÃ½ phiÃªn lÃ m viá»‡c
  - `plan_manager.py`: Quáº£n lÃ½ káº¿ hoáº¡ch xáº¡ trá»‹
  - `import_interface.py`: Giao diá»‡n nháº­p dá»¯ liá»‡u

- **contouring/**: CÃ´ng cá»¥ phÃ¢n Ä‘oáº¡n vÃ  váº½ contour
  - `contour_tools.py`: CÃ´ng cá»¥ váº½ contour
  - `auto_segmentation.py`: PhÃ¢n Ä‘oáº¡n tá»± Ä‘á»™ng vá»›i AI
  - `organ_library.py`: ThÆ° viá»‡n cÆ¡ quan giáº£i pháº«u

- **planning/**: Láº­p káº¿ hoáº¡ch Ä‘iá»u trá»‹
  - `plan_config.py`: Cáº¥u hÃ¬nh káº¿ hoáº¡ch
  - `beam_management.py`: Quáº£n lÃ½ chÃ¹m tia
  - `mlc_manager.py`: Quáº£n lÃ½ MLC (Multi-Leaf Collimator)
  - `bolus_manager.py`: Quáº£n lÃ½ bolus
  - `techniques/`: ThÆ° má»¥c chá»©a cÃ¡c ká»¹ thuáº­t xáº¡ trá»‹
    - `base.py`: Lá»›p cÆ¡ sá»Ÿ cho cÃ¡c ká»¹ thuáº­t
    - `conventional.py`: 3D-CRT
    - `imrt.py`: IMRT (Intensity Modulated Radiation Therapy)
    - `vmat.py`: VMAT (Volumetric Modulated Arc Therapy)
    - `stereotactic.py`: SRS/SBRT (Stereotactic)
    - `proton_therapy.py`: Proton Therapy
    - `adaptive_rt.py`: Adaptive Radiation Therapy
    - `fif.py`: Field-in-Field technique

- **dose_calculation/**: TÃ­nh toÃ¡n liá»u lÆ°á»£ng
  - `dose_engine_wrapper.py`: Wrapper cho cÃ¡c thuáº­t toÃ¡n tÃ­nh liá»u
  - `advanced_algorithms.py`: CÃ¡c thuáº­t toÃ¡n tÃ­nh liá»u nÃ¢ng cao
  - `monte_carlo.py`: Thuáº­t toÃ¡n Monte Carlo
  - `dose_engine.cpp`: Module C++ tÃ­nh liá»u hiá»‡u suáº¥t cao

- **optimization/**: Tá»‘i Æ°u hÃ³a káº¿ hoáº¡ch
  - `goal_optimizer.py`: Tá»‘i Æ°u hÃ³a dá»±a trÃªn má»¥c tiÃªu
  - `plan_optimizer.py`: Tá»‘i Æ°u hÃ³a káº¿ hoáº¡ch
  - `optimizer_wrapper.py`: Wrapper cho cÃ¡c thuáº­t toÃ¡n tá»‘i Æ°u
  - `kbp_optimizer.py`: Tá»‘i Æ°u hÃ³a dá»±a trÃªn kiáº¿n thá»©c (KBP)
  - `optimizer.cpp`: Module C++ tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t cao

- **plan_evaluation/**: ÄÃ¡nh giÃ¡ káº¿ hoáº¡ch
  - `dvh.py`: TÃ­nh toÃ¡n Dose Volume Histogram
  - `plan_metrics.py`: CÃ¡c chá»‰ sá»‘ Ä‘Ã¡nh giÃ¡ káº¿ hoáº¡ch
  - `biological_effects.py`: MÃ´ hÃ¬nh hiá»‡u á»©ng sinh há»c
  - `biological_metrics.py`: Chá»‰ sá»‘ Ä‘Ã¡nh giÃ¡ sinh há»c
  - `plan_comparison.py`: So sÃ¡nh káº¿ hoáº¡ch
  - `plan_qa.py`: QA (Quality Assurance) káº¿ hoáº¡ch

#### 3. gui/ - Giao diá»‡n ngÆ°á»i dÃ¹ng
- **widgets/**: CÃ¡c widget tÃ¹y chá»‰nh
  - `mpr_viewer.py`: Viewer hÃ¬nh áº£nh Ä‘a máº·t pháº³ng
  - `dvh_viewer.py`: Viewer Dose Volume Histogram
  - `viewer_3d.py`: Viewer 3D

- **views/**: CÃ¡c mÃ n hÃ¬nh chÃ­nh
  - `main_view.py`: MÃ n hÃ¬nh chÃ­nh
  - `patient_view.py`: MÃ n hÃ¬nh quáº£n lÃ½ bá»‡nh nhÃ¢n
  - `plan_view.py`: MÃ n hÃ¬nh láº­p káº¿ hoáº¡ch
  - `contour_view.py`: MÃ n hÃ¬nh contour
  - `dose_view.py`: MÃ n hÃ¬nh hiá»ƒn thá»‹ liá»u
  - `evaluation_view.py`: MÃ n hÃ¬nh Ä‘Ã¡nh giÃ¡ káº¿ hoáº¡ch

- **dialogs/**: Há»™p thoáº¡i
  - `import_dialog.py`: Há»™p thoáº¡i nháº­p dá»¯ liá»‡u
  - `export_dialog.py`: Há»™p thoáº¡i xuáº¥t dá»¯ liá»‡u
  - `kbp_trainer_dialog.py`: Há»™p thoáº¡i huáº¥n luyá»‡n KBP
  - `goal_optimizer_dialog.py`: Há»™p thoáº¡i tá»‘i Æ°u má»¥c tiÃªu

- `splash_screen.py`: MÃ n hÃ¬nh chÃ o Ä‘Ã³n
- `struct_panel.py`: Panel quáº£n lÃ½ cáº¥u trÃºc
- `mlc_animation.py`: Hiá»ƒn thá»‹ chuyá»ƒn Ä‘á»™ng MLC
- `main_window.py`: Cá»­a sá»• chÃ­nh á»©ng dá»¥ng
- `patient_manager.py`: Quáº£n lÃ½ bá»‡nh nhÃ¢n
- `plan_design.py`: Thiáº¿t káº¿ káº¿ hoáº¡ch (cáº§n tÃ¡ch thÃ nh cÃ¡c file nhá» hÆ¡n)

#### 4. quality/ - Äáº£m báº£o cháº¥t lÆ°á»£ng & bÃ¡o cÃ¡o
- **quality_assurance/**: Kiá»ƒm tra cháº¥t lÆ°á»£ng
  - `qa_tools.py`: CÃ´ng cá»¥ QA
  - `advanced_qa.py`: CÃ´ng cá»¥ QA nÃ¢ng cao

- **reporting/**: Táº¡o bÃ¡o cÃ¡o
  - `report_gen.py`: Táº¡o bÃ¡o cÃ¡o cÆ¡ báº£n
  - `pdf_report.py`: Táº¡o bÃ¡o cÃ¡o PDF
  - `qa_report.py`: BÃ¡o cÃ¡o QA
  - `comprehensive_report.py`: BÃ¡o cÃ¡o toÃ n diá»‡n
  - `enhanced_report.py`: BÃ¡o cÃ¡o nÃ¢ng cao

#### 5. services/ - Dá»‹ch vá»¥ há»— trá»£
- **image_processing/**: Xá»­ lÃ½ hÃ¬nh áº£nh
  - `image_loader.py`: Äá»c vÃ  xá»­ lÃ½ hÃ¬nh áº£nh
  - `segmentation.py`: Thuáº­t toÃ¡n phÃ¢n Ä‘oáº¡n hÃ¬nh áº£nh

- **integration/**: TÃ­ch há»£p há»‡ thá»‘ng
  - `integration.py`: TÃ­ch há»£p vá»›i cÃ¡c há»‡ thá»‘ng bÃªn ngoÃ i

## ğŸ”„ HÆ°á»›ng dáº«n Triá»ƒn khai Cáº¥u trÃºc Má»›i

Äá»ƒ triá»ƒn khai cáº¥u trÃºc thÆ° má»¥c má»›i, báº¡n cáº§n thá»±c hiá»‡n cÃ¡c bÆ°á»›c sau:

### 1. Táº¡o cáº¥u trÃºc thÆ° má»¥c má»›i

```bash
# Táº¡o thÆ° má»¥c chÃ­nh
mkdir -p quangstation/{core,clinical,gui,quality,services}

# Táº¡o cÃ¡c thÆ° má»¥c con trong core
mkdir -p quangstation/core/{data_models,io,utils}

# Táº¡o cÃ¡c thÆ° má»¥c con trong clinical
mkdir -p quangstation/clinical/{data_management,contouring,planning/techniques,dose_calculation,optimization,plan_evaluation}

# Táº¡o cÃ¡c thÆ° má»¥c con trong gui
mkdir -p quangstation/gui/{widgets,views,dialogs}

# Táº¡o cÃ¡c thÆ° má»¥c con trong quality
mkdir -p quangstation/quality/{quality_assurance,reporting}

# Táº¡o cÃ¡c thÆ° má»¥c con trong services
mkdir -p quangstation/services/{image_processing,integration}
```

### 2. Di chuyá»ƒn cÃ¡c file vÃ o thÆ° má»¥c má»›i

VÃ­ dá»¥ di chuyá»ƒn cÃ¡c file mÃ´ hÃ¬nh dá»¯ liá»‡u:

```bash
# Di chuyá»ƒn cÃ¡c file data_models
cp quangstation/data_models/*.py quangstation/core/data_models/

# Di chuyá»ƒn cÃ¡c file io
cp quangstation/io/*.py quangstation/core/io/

# Di chuyá»ƒn cÃ¡c file utils
cp quangstation/utils/*.py quangstation/core/utils/

# TÆ°Æ¡ng tá»± cho cÃ¡c module khÃ¡c...
```

### 3. Cáº­p nháº­t cÃ¡c import trong má»—i file

Sau khi di chuyá»ƒn cÃ¡c file, báº¡n cáº§n cáº­p nháº­t táº¥t cáº£ cÃ¡c import trong cÃ¡c file Ä‘á»ƒ pháº£n Ã¡nh cáº¥u trÃºc thÆ° má»¥c má»›i. VÃ­ dá»¥:

- Thay Ä‘á»•i tá»« `from quangstation.data_models import image_data` thÃ nh `from quangstation.core.data_models import image_data`
- Thay Ä‘á»•i tá»« `from quangstation.io import dicom_parser` thÃ nh `from quangstation.core.io import dicom_parser`
- v.v.

Thao tÃ¡c nÃ y cÃ³ thá»ƒ thá»±c hiá»‡n thá»§ cÃ´ng hoáº·c sá»­ dá»¥ng script Ä‘á»ƒ tá»± Ä‘á»™ng thay tháº¿.

### 4. Cáº­p nháº­t file setup.py

Cáº­p nháº­t file setup.py Ä‘á»ƒ pháº£n Ã¡nh cáº¥u trÃºc thÆ° má»¥c má»›i:

```python
from setuptools import setup, find_packages

setup(
    name="quangstation",
    version="2.0.0",
    packages=find_packages(),
    # ...
)
```

### 5. Kiá»ƒm tra vÃ  sá»­a lá»—i

Sau khi triá»ƒn khai cáº¥u trÃºc má»›i, cháº¡y cÃ¡c kiá»ƒm tra Ä‘á»ƒ Ä‘áº£m báº£o má»i thá»© hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng:

```bash
# Kiá»ƒm tra cÃ i Ä‘áº·t
pip install -e .

# Cháº¡y á»©ng dá»¥ng
python launcher.py
```

## ğŸ› ï¸ TÃ¡i cáº¥u trÃºc MÃ£ Nguá»“n

Má»™t sá»‘ file trong dá»± Ã¡n hiá»‡n táº¡i cÃ³ kÃ­ch thÆ°á»›c ráº¥t lá»›n vÃ  nÃªn Ä‘Æ°á»£c tÃ¡ch thÃ nh cÃ¡c file nhá» hÆ¡n:

### File plan_design.py (4636 dÃ²ng)
File nÃ y nÃªn Ä‘Æ°á»£c tÃ¡ch thÃ nh nhiá»u file nhá» hÆ¡n, má»—i file Ä‘áº¡i diá»‡n cho má»™t chá»©c nÄƒng cá»¥ thá»ƒ:
- `gui/views/plan_design_view.py`: Cáº¥u trÃºc chÃ­nh cá»§a mÃ n hÃ¬nh
- `gui/views/beam_setup_view.py`: Thiáº¿t láº­p chÃ¹m tia
- `gui/views/dose_view.py`: Hiá»ƒn thá»‹ liá»u
- `gui/views/structure_view.py`: Quáº£n lÃ½ cáº¥u trÃºc
- `gui/views/optimization_view.py`: Giao diá»‡n tá»‘i Æ°u hÃ³a

### File __main__.py (2992 dÃ²ng)
File nÃ y nÃªn Ä‘Æ°á»£c tÃ¡ch thÃ nh cÃ¡c module khÃ¡c nhau theo chá»©c nÄƒng:
- `core/app.py`: Khá»Ÿi táº¡o á»©ng dá»¥ng
- `core/session.py`: Quáº£n lÃ½ phiÃªn lÃ m viá»‡c
- `gui/main_application.py`: Äiá»ƒm vÃ o giao diá»‡n
- `services/app_service.py`: Dá»‹ch vá»¥ á»©ng dá»¥ng

## ğŸ“ LiÃªn há»‡
- **TÃ¡c giáº£**: Máº¡c ÄÄƒng Quang
- **Email**: quangmacdang@gmail.com
- **Äiá»‡n thoáº¡i**: 0974478238
- **Website**: [quangstation.com](https://quangstation.com)

## ğŸ“„ Giáº¥y phÃ©p
Dá»± Ã¡n Ä‘Æ°á»£c phÃ¢n phá»‘i dÆ°á»›i Giáº¥y phÃ©p MIT. Xem [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t chi tiáº¿t.

## ğŸš§ Tráº¡ng thÃ¡i Dá»± Ã¡n
- **PhiÃªn báº£n**: 2.0.0-beta
- **Tiáº¿n Ä‘á»™**: 65%
- **Dá»± kiáº¿n phÃ¡t hÃ nh chÃ­nh thá»©c**: thÃ¡ng 6/2024

## ğŸŒŸ Há»— trá»£
Náº¿u báº¡n tháº¥y dá»± Ã¡n há»¯u Ã­ch, hÃ£y cho chÃºng tÃ´i má»™t sao â­ trÃªn GitHub!

